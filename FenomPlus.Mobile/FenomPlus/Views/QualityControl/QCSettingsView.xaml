<?xml version="1.0" encoding="UTF-8" ?>
<views:BaseContentPage
    xmlns:views="clr-namespace:FenomPlus.Views"
    xmlns="http://xamarin.com/schemas/2014/forms"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:controls="clr-namespace:FenomPlus.Controls"
    xmlns:border="clr-namespace:Syncfusion.XForms.Border;assembly=Syncfusion.Core.XForms"
    xmlns:viewModels="clr-namespace:FenomPlus.ViewModels;assembly=FenomPlus"
    xmlns:buttons="clr-namespace:Syncfusion.XForms.Buttons;assembly=Syncfusion.Buttons.XForms"
    xmlns:xForms="clr-namespace:Syncfusion.SfDataGrid.XForms;assembly=Syncfusion.SfDataGrid.XForms"
    x:Class="FenomPlus.Views.QCSettingsView"
    Title="Quality Control"
    Shell.NavBarIsVisible="True"
    NavigationPage.HasBackButton="False"
    NavigationPage.HasNavigationBar="False"
    x:DataType="viewModels:QualityControlViewModel">
        
    <Shell.TitleView>
        <controls:TitleContentView />
    </Shell.TitleView>

    <ContentPage.Content>

        <Grid HorizontalOptions="FillAndExpand" VerticalOptions="FillAndExpand" Margin="0,20,0,20">

            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <StackLayout  Grid.Row="0" Grid.Column="0">

                <border:SfBorder 
                    BorderColor="LightGray"
                    BackgroundColor="Transparent" 
                    HorizontalOptions="Fill" 
                    Height="100"
                    BorderWidth="1"

                    Margin="0,0,0,0"
                    Padding="0">

                    <xForms:SfDataGrid x:Name="AllDevicesDataGrid"
                                        ItemsSource="{Binding AllDevices }"
                                        LiveDataUpdateMode="AllowDataShaping"
                                        VerticalOptions="Fill"
                                        HorizontalOptions="Fill"
                                        AllowResizingColumn="False"
                                        AutoGenerateColumns="False"
                                        AllowEditing="False"
                                        AllowSorting="False"
                                        NavigationMode="Row"
                                        SelectionMode="Single"
                                        AutoExpandGroups="False"
                                        AllowGroupExpandCollapse="False"
                                        ColumnSizer="Star"
                                        VerticalScrollBarVisibility="False"
                                        HorizontalScrollBarVisibility="False"
                                        VerticalOverScrollMode="None"
                                        AllowPullToRefresh="False"
                                        Margin="0,0,1,0">

                        <xForms:SfDataGrid.Columns>

                            <xForms:GridTextColumn HeaderText="Device Serial Number" MappingName="DeviceSerialNumber"/>

                            <xForms:GridTextColumn HeaderText="Date / Time" MappingName="DateOfTest" Padding="10,0,10,0" ColumnSizer="Auto"/>

                            <xForms:GridTextColumn HeaderText="Device S/N" MappingName="SerialNumber" Padding="10,0,10,0" ColumnSizer="Auto"/>

                            <xForms:GridTextColumn HeaderText="Test"  MappingName="TestType" Padding="10,0,10,0" ColumnSizer="Auto"/>

                            <xForms:GridTextColumn HeaderText="QC Status"  MappingName="QCStatus" TextAlignment="Start"  Padding="10,0,10,0" ColumnSizer="LastColumnFill"/>

                            <xForms:GridTextColumn HeaderText="Test Result"  MappingName="TestResult" Padding="10,0,10,0" ColumnSizer="Auto"/>

                        </xForms:SfDataGrid.Columns>

                    </xForms:SfDataGrid>

                </border:SfBorder>

                <border:SfBorder 
                    BorderColor="LightGray"
                    BackgroundColor="Transparent" 
                    HorizontalOptions="Fill" 
                    Height="200"
                    BorderWidth="1"

                    Margin="0,0,0,0"
                    Padding="0">

                    <xForms:SfDataGrid x:Name="AllUsersDataGrid"
                                        ItemsSource="{Binding AllUsers }"
                                        LiveDataUpdateMode="AllowDataShaping"
                                        VerticalOptions="Fill"
                                        HorizontalOptions="Fill"
                                        AllowResizingColumn="False"
                                        AutoGenerateColumns="False"
                                        AllowEditing="False"
                                        AllowSorting="False"
                                        NavigationMode="Row"
                                        SelectionMode="Single"
                                        AutoExpandGroups="False"
                                        AllowGroupExpandCollapse="False"
                                        ColumnSizer="Star"
                                        VerticalScrollBarVisibility="False"
                                        HorizontalScrollBarVisibility="False"
                                        VerticalOverScrollMode="None"
                                        AllowPullToRefresh="False"
                                        Margin="0,0,1,0">

                        <xForms:SfDataGrid.Columns>

                            <xForms:GridTextColumn HeaderText="Serial Number" MappingName="DeviceSerialNumber"/>

                            <xForms:GridTextColumn HeaderText="User Name" MappingName="UserName" Padding="10,0,10,0" ColumnSizer="Auto"/>

                            <xForms:GridTextColumn HeaderText="Status" MappingName="CurrentStatus" Padding="10,0,10,0" ColumnSizer="Auto"/>

                            <xForms:GridTextColumn HeaderText="Date"  MappingName="DateCreated" Padding="10,0,10,0" ColumnSizer="Auto"/>

                            <xForms:GridTextColumn HeaderText="Expires"  MappingName="ExpiresDate" TextAlignment="Start"  Padding="10,0,10,0" ColumnSizer="LastColumnFill"/>

                            <xForms:GridTextColumn HeaderText="Next Test"  MappingName="NextTestDate" Padding="10,0,10,0" ColumnSizer="Auto"/>

                        </xForms:SfDataGrid.Columns>

                    </xForms:SfDataGrid>

                </border:SfBorder>

                <border:SfBorder 
                    BorderColor="LightGray"
                    BackgroundColor="Transparent" 
                    HorizontalOptions="Fill" 
                    Height="300"
                    BorderWidth="1"

                    Margin="0,0,0,0"
                    Padding="0">

                    <xForms:SfDataGrid x:Name="AllTestsDataGrid"
                                        ItemsSource="{Binding AllTests }"
                                        LiveDataUpdateMode="AllowDataShaping"
                                        VerticalOptions="Fill"
                                        HorizontalOptions="Fill"
                                        AllowResizingColumn="False"
                                        AutoGenerateColumns="False"
                                        AllowEditing="False"
                                        AllowSorting="False"
                                        NavigationMode="Row"
                                        SelectionMode="Single"
                                        AutoExpandGroups="False"
                                        AllowGroupExpandCollapse="False"
                                        ColumnSizer="Star"
                                        VerticalScrollBarVisibility="False"
                                        HorizontalScrollBarVisibility="False"
                                        VerticalOverScrollMode="None"
                                        AllowPullToRefresh="False"
                                        Margin="0,0,1,0">

                        <xForms:SfDataGrid.Columns>

                            <xForms:GridTextColumn HeaderText="Serial Number" MappingName="DeviceSerialNumber"/>

                            <xForms:GridTextColumn HeaderText="User" MappingName="UserName" Padding="10,0,10,0" ColumnSizer="Auto"/>

                            <xForms:GridTextColumn HeaderText="Date"  MappingName="DateCreated" Padding="10,0,10,0" ColumnSizer="Auto"/>

                            <xForms:GridTextColumn HeaderText="Result"  MappingName="TestResult" TextAlignment="Start"  Padding="10,0,10,0" ColumnSizer="LastColumnFill"/>

                        </xForms:SfDataGrid.Columns>

                    </xForms:SfDataGrid>

                </border:SfBorder>

            </StackLayout>




            <Button Text="Exit"
                Grid.Row="1"
                Margin="0,0,60,0"
                Style="{StaticResource defaultButton}"
                Command="{Binding ExitToDashboardCommand}"
                HorizontalOptions="End"/>

        </Grid>

    </ContentPage.Content>

</views:BaseContentPage>